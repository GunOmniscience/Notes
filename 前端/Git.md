# Git

> 在Git中没有反应才是最好的反应，有反应有时候说明你报错了

## 1.设置用户名:`git config --global user.name 名字`

## 2.设置邮箱：`git config --global user.email 邮箱地址`

## 3.列出你当前的配置：`git config --list`

![1608132585607](../笔记图片(勿删)/1608132585607.png)

## 4.初始化仓库`git init`

1. 在你想要存放内容的地方**创个文件夹**

2. 然后进入这个文件夹右键打开Git Bash Here(在这个路劲上打开git bash)

3. git就会快速的定位到你当前的这个文件夹位置

   ![1608345176474](../笔记图片(勿删)/1608345176474.png)

4. 然后我们使用命令`git init`

5. 就可以在当前文件夹中初始化仓库并产生.git文件夹

   .git文件夹非常重要，记录我们的变更内容(objects),分支(refs),日志(logs),脚本(hooks)

   **所以千万不要删除这个文件夹，它是用来做记录的**

## 5.将文件添加到暂存仓库`git add 文件路径`

1. 打开vscode，然后打开我们创建了.git文件夹的文件夹

2. 我们去往这个文件夹里面新建东西，比如我们新加了一个 index.html 文件

3. 我们会发现这个文件旁边会有一个 U 的标志，代表这个文件未追踪(未加到缓存区里，简而言之这个文件未被记录)

   ![1608346968798](../笔记图片(勿删)/1608346968798.png)

4. 然后我们打开git界面输入 `git add ./index.html` 我们只要打出这个文件的前缀然后按Tab它会将文件路径自动补齐

   ![1608347135008](../笔记图片(勿删)/1608347135008.png)

5. 敲完回车我们会发现在vscode中 index.html 文件旁边的标志由 U 变成了 A

   ![1608347205052](../笔记图片(勿删)/1608347205052.png)

6. 这就说明这个文件已经加到了我们的暂时缓存(它是真实存在的我们我无法看到)内，也就是被记录了

**拓展：**

​	我们想要一次性将我这个文件夹中所有的文件记录我们可以使用这个命令 `git add .` "."代表当前目录，也就是将当前目录加进去那么这个里面的文件也就全进去了

## 6.将文件从记录中清除`git reset 文件路径`

与 `git add 文件路径` 一致，同样也可以使用"."

## 7.忽略文件(这个文件尽管没有被记录他也不会显示 U)

我们在开发中有的文件是应该随着用户下载的，那么如果将它加到我们的项目里面的话它会把我们的项目撑大，可是当我们不去记录它的话它老是报 U 怎么办呢？我们可以在当前目录下创建一个 **.gitignore** 文件，在这个文件夹中记录的文件路径它在 vscode 中的颜色会变黑,意味着我们不需要将他进行记录，它应该随着项目下载

![1608347931807](../笔记图片(勿删)/1608347931807.png)

**注意：**

1. 它默认是当前目录所以我们不需要打./直接/就好了否则定位不到

2. 如果我们 add 了一个我们忽略的文件，git会给我们报错

   ![1608348132787](../笔记图片(勿删)/1608348132787.png)

   ![1608348145653](../笔记图片(勿删)/1608348145653.png)

## 8.查看我们当前目录中文件的状态`git status`

![1608348317239](../笔记图片(勿删)/1608348317239.png)

![1608348341954](../笔记图片(勿删)/1608348341954.png)

这里因为我们这个文件给忽略了所以我们 `git status` 时也会忽略这个文件

![1608348413433](../笔记图片(勿删)/1608348413433.png)

![1608348491432](../笔记图片(勿删)/1608348491432.png)



   此时我们会发现在 Untracked files(未记录文件) 这个发现我们这个 index.html 是未被记录的

   ![1608348595959](../笔记图片(勿删)/1608348595959.png)

   此时我们将他记录了之后我们会发现 index.html 这个文件变成绿色的了,说明我们这个文件是被记录了的

## 9.将现在缓存区内的文件提交成一个版本 `git commit -m "版本描述"`

> 记录是记录在缓存区里的，当我们把这个缓存区里的内容提交成一个版本之后，我们这个缓存区里的内容就会清空，因为它全部被提交出去了无需缓存了，简而言之：缓存区就是用来缓存我们当前相较上一个版本的差别的数据的

![1608349179344](../笔记图片(勿删)/1608349179344.png)

![1608349212948](../笔记图片(勿删)/1608349212948.png)

我们会发现当前缓存区里的东西没了，因为它们已经提交成一个版本了

其中的 Changes not staged for commit 下面的文件红色代表我们这个文件它已经提交过了，可是它和上一个版本的内容不一致，它在vscode中显示一个 M

![1608354614404](../笔记图片(勿删)/1608354614404.png)

## 10.版本回退`git reset --hard HEAD^`

一个 "^" 代表回退一个版本，当我们回退了版本我们在vscode里面的内容也会变化，它只会展示当前版本有的东西



此时我们会发现如果我们回退100个版本我是是不是需要 100个^ 于是其实我们可以这么来回退: `git reset --hard HEAD~回退几个版本`

​	例如：`git reset --hard HEAD~2`回退两个版本

## 11.查看我们版本的一个变化记录`git reflog`

![1608355111891](../笔记图片(勿删)/1608355111891.png)

## 12.跳转到指定hash值的版本 `git reset --hard 版本Hash值`

1. 我们通过 `git reflog` 可以看得到我们每个版本的一个7位Hash值

   ![1608355359702](../笔记图片(勿删)/1608355359702.png)

2. 然后我们通过命令 `git reset --hard 60e29b0`

   ![1608355507894](../笔记图片(勿删)/1608355507894.png)

   我们会发现我们此时就回到了Hash值对应位 60e29b0 的 Test2 这个版本，随之我们的vscode里面的内容也变成了这个版本里面拥有的东西

> 因为我们跳转版本使用的是版本唯一的Hash值，所以我们可以把它看成自动生成的唯一版本名；我们把我们在提交时填写的 "" 里面的内容看作此版本的描述

## 13.查看此仓库的所有版本 `git log`

![1608355883729](../笔记图片(勿删)/1608355883729.png)

commit后面的值是 Hash-1 来自美国安全局的一个Hash算法。它由42位16进制组成，以保证每个人提交的版本它的Hash值唯一

**注意：**

git log它只记录当前版本之前的所有版本，也就是说当我们回退到 Test 那个版本的时候我们git log 它只有自己这个版本，而 Test2 没了

![1608356448146](../笔记图片(勿删)/1608356448146.png)

那么我们此时只能使用 `git reflog` 来看我们版本的一个变换然后去拿到 Hash值 进行回退

## 14.查看保存了的文件中：保存区和缓存区 的不同`git diff`

![1608357319023](../笔记图片(勿删)/1608357319023.png)

![1608357499465](../笔记图片(勿删)/1608357499465.png)

![1608357566618](../笔记图片(勿删)/1608357566618.png)

## 15.查看分支`git branch`

![1608362357340](../笔记图片(勿删)/1608362357340.png)

## 16.新建分支`git branch 分支名`

![1608362372979](../笔记图片(勿删)/1608362372979.png)

## 17.切换分支`git checkout 分支名`

![1608362437838](../笔记图片(勿删)/1608362437838.png)

![1608362454963](../笔记图片(勿删)/1608362454963.png)

绿色代表当前所在分支

## 18.分支的概念

分支相当于我们将版本复制了一样我们在不同的分支做的修改不会互相影响(尽管上传成了版本也是一样的)，这时候就涉及到一个分支合并也就是代码合并的一个问题了，我们开分支可以用来你开发轮播图，我开发底部，你开发侧边栏，然后合并起来

## 19.合并分支`git merge 分支名`

意思位将merge分支的东西合并到我的上面来

![1608363253950](../笔记图片(勿删)/1608363253950.png)

![1608363275129](../笔记图片(勿删)/1608363275129.png)

此时我们会发现 master 分支和 two 分支他说我们这同一行代码可是我们两边分支不一样表示可能有问题看我们怎么去决定;上面命令行的(master|MERGING)的 MERGING 表示有错误

![1608363397623](../笔记图片(勿删)/1608363397623.png)

此时我们选择了两边都保存可是命令行上仍然显示 MERGING 表示有错误此时我们应该将他添加到暂存区并将它提交为一个版本，就不会有这个错误了

![1608363490034](../笔记图片(勿删)/1608363490034.png)

![1608363534039](../笔记图片(勿删)/1608363534039.png)

![1608363553102](../笔记图片(勿删)/1608363553102.png)

这样子我们分支就合并完了

## 20.上传远程服务器

1. 在本机随便一个gitbash上输入命令`ssh-keygen`生成本机的SSH密钥![1608366314473](../笔记图片(勿删)/1608366314473.png)

2. 然后我们在这个文件夹中找到

   ![1608366387208](../笔记图片(勿删)/1608366387208.png)

3. 用vscode打开.pub这个文件，然后将里面的数据copy出来

4. 打开github在自己账号的setting中找到SSHand什么什么key那里添加我们的SSH密钥到自己的账号上方便我们待会进行远程服务器传输

5. ![1608366512154](../笔记图片(勿删)/1608366512154.png)

6. 点击 New SSH key

7. ![1608366556960](../笔记图片(勿删)/1608366556960.png)

8. 将我们复制的数据粘贴到key中

9. 然后给我们这个SSHkey起一个名备注这是哪台机子的SSH

10. 然后我们新建一个Rep项目

    ![1608366674424](../笔记图片(勿删)/1608366674424.png)

11. ![1608366718981](../笔记图片(勿删)/1608366718981.png)

12. 起个名字然后描述一下再判断是公有还是私有然后点击生成项目即可

13. ![1608366784997](../笔记图片(勿删)/1608366784997.png)

14. 在这里我们会发现有HTTPS和SSH两种信道，因为HTTPS的密钥我们无法生成而我们SSH密钥是针对我们本机的可以生成所以我们选择SSH

15. 然后找到一个想要存放我们这个仓库的路径，我这里选择F盘

16. 右键打开GitBash

17. 输入命令 `git clone 刚刚在github上复制的这个项目的SSH`

18. 然后我们就会把这个文件夹克隆到我们本机的这个路径上面来

19. 然后我们去F盘找到这个克隆出来的文件夹(和我们新建这个项目的名字一样)

20. ![1608367069643](../笔记图片(勿删)/1608367069643.png)

21. 我们找到了这个文件夹然后进入了右击打开GitBash

22. 我们我们就可以往这个文件夹里面随便写东西然后使用**常规的git命令保存提交**就好了

23. 我们使用 `git push origin master` origin代表远程仓库的地址，master代表要提交的分支，然后敲回车

24. 这时我们去github上就能看到我们提交的内容了

## 21.拉取远程服务器 `git pull origin 分支名`

