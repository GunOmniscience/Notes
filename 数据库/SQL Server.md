### 1.数据库文件类型

`.mdf`数据文件

`.ldf`日志文件



### 2.新建删除数据库

#### 		2.1新建数据库

​			1.右击数据库

​			2.点击新建数据库

​			3.设置好相关设置

​			4.确定

#### 		2.2删除数据库

​			1.右击想要删除的那个数据库的文件夹

​			2.删除

​			3.将底下的删除文件和取消连接都勾选上

​			4.确定



### 3.附加和分离

​	**当我们想要把这个数据库分享给别人，我们就得先分离这个数据库**

#### 			3.1分离

​				1.右击想要分离的数据库

​				2.鼠标悬停任务

​				3.点击分离

​				4.将删除连接和更新都勾选上(因为我们的数据不更新的话会被撤销)

​				5.此时我们去这个数据库文件的路径文件夹里找到它然后就可以发送给别人进行分享了

​	**当我们的朋友分享给我们一个数据库我们要怎么将它连接上呢？**

#### 			3.2附加

​				1.右击数据库文件夹

​				2.点击附加

​				3.点击添加

​				4.找到那个数据库文件的位置

​				5.选择.mdf文件(数据文件)，日志文件会自动连接上

​				6.点击确定



### 4.新建SQL Sever用户

​	当我们在这台电脑上创建好的库我想要到别的电脑上去访问，那我们就需要一个SQL Server用户来进入到我们的账户来访问我们在另一台电脑上建的所有的库。

​	但是有的库我们可以访问不能修改，这些都的原因是我们创建这个用户的权限问题。

#### 		4.1如何新建用户

​				1.点击安全性文件夹

​				2.右击登陆名

​				3.新建登陆名

​				4.选择SQL Server身份验证

​				4.设置登陆名和密码

​				5.将强制密码过期取消勾选

​				6.确认



### 5.数据库中的专有名词

#### 	5.1主键

​		我们通常一个用户注销了并不对库进行删除，只是对其的主键进行更改

​		**主键内容不能重复**

​		能够通过它来唯一标识一个事物

​		他的数据来自于我们自己的这一个表

​		例：员工编号

​		**值不能是null，即使没有设置not null**

#### 	5.2外键

​		它来自另外一个表的主键

​		通过它来与别的表来建立关系

​		它的数据是来自另外一个表的

​		例如多个员工对应一个部门，那么我们通常把外键写在多的那一边

​		例：部门编号

#### 	5.3字段

​		数据库中我们把**列**叫做**字段**

​		表示的是一个事物的某一个特征

#### 	5.4元组/记录

​		数据库中我们把**行**叫做记录或者**元组**

​		字段的组合 表示的是一个具体的事物

#### 	5.5表

​		我们把一大堆数据的整体叫做**表**

​		记录的组合 表示的是同一类型事物的集合

#### 	5.6表和字段、记录的关系

​		字段是事物的属性

​		记录(元组)是事物的本身

​		表示事物的集合

### 6.创建和编辑表

如果想加入外键则得先建立设置外键的那个表

#### 	6.1如何创建一个表

​		1.选择一个要创建表的数据库打开

​		2.右击表

​		3.填写列名并设置数据类型

​		4.点击上方的保存按钮

​		5.设置表的名字

​		6.完成

#### 	6.2如何往表里填写内容

​		1.右击刚刚建立的表

​		2.点击编辑

​		3.填写元组/记录/每一列的内容

​		4.点击一下下面一行开头的小黑点

​		5.点击上方的红色感叹号执行(如果不按照4，5步骤来则会数据丢失)

​		6.完成

### 7.如何设置主键

​	1.右击需要设置主键的表

​	2.点击设计

​	3.右击想要设置为主键的列

​	4.点击设置为主键

### 8.如何设置外键

​	以我们的多对一关系选择我们的多的那个

​	1.右击表

​	2.设计

​	3.再写一个字段用来存放外键的数据

​	4.选择要连接外键的那个表

​	5.点击右边的表和列的规范的右边的三个点

​	6.左边选择外键表的主键，右边选择这个表的主键(用来接收外键表的主键的数据的)

​	7.点击确认

​	8.然后我们可以设置我们这个表的外键，不过我们这个主键的值不能是我们连接的那个外键表的主键没有的内容，否则出错

​	9.可以进行实验一下8步骤，如果出错说明我们的外键设置成功

​	10.完成

### 9.约束

​	**对一个表中的属性操作的限制叫做约束**

​	建立一个主键，主键的数字不能一样，这也叫做一个约束

​	建立一个外键，外键的值不能填写与他相连的主键的值没有的值，这也是一个约束

​	我设置这个工资不能小于20w这也是一个约束

​	**约束是有名称的，如果你没有设置这个名称它是有默认值的**

​		比如我们创建的外键，他在关系里面有一个标识里面有一个名称，这个名称我们如果不设置它它会有默认值存在。

​	**分类**

​		主键约束

​				不允许重复元素 避免了数据的冗余

​		外键约束

​				通过外键约束从语法上保证了本事物所关联的其他事物是存在的

​		事物和事物之间的关系是通过外键来体现的

### 10.SQL命令

![批注 2020-03-14 221623](F:\Typora\笔记图片(勿删)\批注 2020-03-14 221623.jpg)

**通常我们先选中命令点击执行右边的小勾勾看看有没有错误，然后再点执行**

***我们通过SQL代码进行查询或者建表，我们通常选中要执行的SQL代码进行执行，并不能全部直接进行执行**

**SQL软件之间有共同的标准，不过有细微差别**

#### 	注释：

```sql
--注释
```

#### 	建表：

```sql
create table 表名
(
    
)
```

#### 	*定义字段：

```sql
字段名  数据类型  [check (设置区间 注：sql里面的&&是and) constraint  约束名(主键通常以pk下划线开头，外键通常以fk下划线开头)  primary key (主键)/foreign key (外键) [如果是外键的话还要加你指向的是哪一个表里面的主键：references 指向的表名(指向的主键名)]  not null(不能为空)]**,**
```

​		**约束的名字规范：pk/fk 下划线 表名 下划线 字段名 下划线  约束名(如果没有设置约束名，它会有默认值存在）**

​		**注意：以”，“结尾，最后一句通常不写逗号，写也没问题**(在Oracle里面最后一行不能写**逗号**)

#### 		check约束:

​				可以自己设置一个字段的约束比如工资大于1w小于。。。

​				语法：

​					check (区间)

#### 		unique约束：

​				值是不可以重复的

​				和主键的区别：

​								主键的值不能是null，即使没有加not null

​								而unique可以加null,不过如果加了not null它也不能为空(它默认是可以为空的除了加了 not null)

​				**注：在SQL server2005只允许一个为空**

​						**在Oracle里面可以允许多个为空**

### 						**账号我们通常用unique不用主键因为如果我们账号改了那么我们如果有外键的话都有受到影响**

​				语法：

```sql
字段名 数据类型 unique,
```



#### 插入数据语法：

​		写在table外面自己是一个地方

​		语法：

```sql
insert into 表名 [(第一个值输入的字段名, 第二个值输入的字段名)如果不写这个的话你得给所有字段插入数据一个值不能少] values (第一个字段的值, 第二个字段的值, ...);
```

​		**他是一个语句所以结尾是分号**

#### 设置默认值

​		语法：

```sql
字段名 数据类型 default (默认值)
```

​	''是表示字符串

​	""表示一个数据名

#### 删除

```sql
drop table student4; --删除student4表
```



### 11.SQL数据类型

#### 	11.1 nvarchar(20)

​		n:国际化标识符类似于utf-8(要输入中文通常都加上它)

​		var:是可变化的；因为字符的个数只能由一个而我们要填多个所以要加var类型

​		char:字符

​		(20):可以有多少个字符

### 	11.2 nchar(1)

​		通常用来填写男女

### 12.表和约束的关系

​		数据库是通过表来解决事物的存储问题的

​		数据库是通过约束来解决事物取值的有效性和合法性的问题

​		建表的过程就是指定事物属性及其事物属性各种约束的过程

### 13.什么是关系

​		一对多

​			反过来就不对了，因为你多个东西对应一个东西，一个的话表示不过来

​		多对多

![批注 2020-03-25 214059](F:\Typora\笔记图片(勿删)\批注 2020-03-25 214059.jpg)

​			**多对多必须新建一章单独的表来表示，这是我们关系型数据库最大的缺点**

​			一个老师可以有很多学生一个学生可以有很多老师

​			多个老师可以给多个班上课

​		一对一

​	实现方式

​			通过不同形式的外键来体现表和表的不同关系